# 速控侠（Claw Chat）产品总方案

### 1. 产品介绍

* **产品定位**：专门面向 **OpenClaw** 用户的轻量化远程操控工具，核心解决其配置复杂、门槛高的问题，覆盖基础指令、自动化模板及远程屏幕协同场景。
* **产品组成**：包含安卓手机端、PC 端及云服务端。
* **一期支持系统**：Windows 10、Windows 11 及 Linux。
* **后续规划**：视市场反馈推进 iOS 与 macOS 端。


* **核心价值**：
* **开箱即用**：自动完成组网对接与权限适配。
* **基础保障**：严格遵循系统开发规范与隐私合规，适配主流安卓设备。



### 2. 产品整体架构

* **整体架构设计**：
* **安卓手机端**：核心操作入口，负责指令下发、状态查看与消息交互。
* **服务端**：负责地址协商、连接协助、数据中转、账号权限管控及计费统计。
* **PC 端**：执行端，对接 OpenClaw，负责屏幕采集、状态上报及模板管理，采用多线程技术优化执行效率。


* **三端交互流程（四大阶段）**：
1. **登录与自动组网**：双端登录后上报地址 -> 服务端下发对端信息 -> 发起网络穿透 -> 建立 **P2P 直连通道**。
2. **基础指令执行**：安卓发送文字/语音指令 -> P2P 通道传输 -> PC 调用 OpenClaw 执行 -> 结果以 Markdown 渲染回传安卓端。
3. **远程屏幕协同**：安卓发起请求 -> PC 开启硬编码采集 -> 低延迟推送画面 -> 安卓端支持缩放、清晰度切换及横竖屏自适应。
4. **兜底与降级机制**：直连失败自动切至服务端控制链路中转（高带宽功能降级）；网络波动时触发自动重连。



### 3. 核心功能

* **基础核心功能**：极简聊天式交互、支持 Markdown 格式渲染（代码高亮、表格、列表、加粗/斜体）、零配置自动组网、全链路状态可视化、指令传输执行闭环、断连自动重连。
* **高级核心功能**：
* **远程屏幕实时协同**：低延迟推送、多模式切换。
* **指令模板快捷复用**：支持自定义快捷编号与参数、模板编辑、批量导入导出及云端同步。


* **核心体验保障**：通过借鉴日常聊天软件的交互逻辑，实现零基础用户 1 分钟快速上手。

### 4. 核心通信机制

* **基础通信逻辑**：借助服务端完成地址协商与身份校验，建立 **AES 加密**的端到端直连通道。
* **链路设计**：
* **控制链路**：经服务端中转，负责认证、状态同步、基础指令，确保 **100% 必达**。
* **数据链路**：优先经 P2P 直连传输屏幕画面等高带宽数据，降低延迟。


* **降级与适配**：
* **智能降级**：穿透失败时，基础指令切中转；高带宽功能对免费版禁用/限制，对付费版提供限速的高速中转。
* **网络适配**：采用规范的**心跳包保活机制**，防止安卓进程被系统中断。



### 5. 标准使用流程

* **基础流程**：部署程序 -> **账号密码登录** -> 自动组网 -> 确认连接状态（绿色） -> 指令操控 -> 结果回传。
* **高级流程**：
* **屏幕查看**：点击“查看屏幕”入口进入独立窗口。
* **模板管理**：执行成功后一键存为模板，后续通过输入快捷编号一键触发。


* **核心注意事项**：操作前需确认双端连接标识为绿色；确保账号唯一性；异常时由系统自动重连。

### 6. 全链路状态展示

* **状态分类**：服务端连接、对端直连、屏幕推送、模板运行状态。
* **可视化配色规范**：
* **绿色**：已连接/已直连/执行成功。
* **红色**：已断开/执行失败（同步展示异常原因与解决方案）。
* **黄色**：组网中/模板执行中。
* **蓝色**：中转连通/实时推送中（显示帧率与清晰度）。
* **灰色**：未连接/屏幕推送关闭。


* **状态同步机制**：双端**毫秒级同步**，异常时推送提醒。

### 7. 屏幕推送机制

* **推送触发逻辑**：手动/自动开启，数据优先经专属直连通道加密传输，不经过云端存储。
* **性能优化方案**：采用 **Hard Codec（硬编码硬解码）** 方案，大幅降低 CPU 占用。
* **模式适配**：支持标清/高清切换，码率随带宽自动调整，适配横竖屏。

### 8. 产品核心优势

* **差异化提炼**：零配置开箱即用、极简操作无门槛、高效模板复用、智能网络自适应、状态可视化可控。
* **落地支撑**：OpenClaw 核心程序运行于用户自有设备，数据优先 P2P 传输，符合隐私合规。
* **场景覆盖**：覆盖个人操控、远程协助、自动化执行、批量任务处理。

### 9. 结果反馈机制

* **反馈维度**：指令执行状态（Markdown 格式回传）、连接与功能同步、异常告警。
* **反馈形式**：聊天窗实时推送，无需手动刷新。
* **解决方案同步**：异常发生时实时推送告警，并同步展示对应的解决方案。

### 10. 账号体系

* **账号核心逻辑**：基于唯一标识实现设备绑定与身份识别，支持单账号多设备管理。
* **登录方式（用户修订版）**：
* **初期阶段**：仅支持**账号密码登录**。
* **安全保障**：支持**绑定邮箱**，用户可通过邮箱接收验证信息以修改或找回密码。
* **后续扩展**：计划逐步引入短信验证码与生物识别登录。


* **安全管控**：实现操作记录留存、异地登录告警、登录设备管理。

### 11. 版本与计费

* **免费版**：支持基础功能、标清推流（限直连）、最多 10 条模板。含非侵入式广告，有时长/频率上限。
* **付费版**：**无广告**、高清跨网推流（专属中转）、无限模板存储、支持批量导入导出、优先通信通道。
* **分发渠道**：主流安卓应用商店、官方 APK 直装包。

### 12. 抖音系广告平台对接方案

* **平台选型**：首选**穿山甲广告联盟**。
* **广告位场景设计（严禁开屏广告）**：
| 广告类型 | 展示场景 | 触发规则 | 展示位置 | 频次管控 |
| :--- | :--- | :--- | :--- | :--- |
| 信息流 Banner | 聊天列表页 | 常驻展示 | 页面底部，不遮挡输入框 | 30s 自动轮播刷新 |
| 激励视频 | 权益解锁 | 用户主动点击 | 全屏视频页 | 无频次上限 |
| 插屏广告 | 非核心操作结束 | 后台管理完成时 | 半屏弹窗 | 单日单用户限 2 次 |
* **技术对接**：异步初始化 SDK，对接服务端回调接口，实现权益联动。
* **合规与结算**：隐私授权后初始化；按月结算，每月 1-5 日出账单，**15 个工作日内**完成打款。
* **去广告机制**：付费用户登录后，安卓端**不初始化广告 SDK**，自动销毁广告实例。

### 13. 后续定制化功能

* **定制化方向**：品牌 LOGO/UI 定制、专属 OpenClaw AI 技能对接、私有化服务端部署。
* **核心价值**：满足企业客户对品牌一致性及数据安全的个性化需求。
* **适配性保障**：支持多设备同时操控、定时任务、日志深度导出等扩展功能。
